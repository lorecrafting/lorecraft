var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function l(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function s(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function d(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function p(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function m(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function g(t,n){t.value=null==n?"":n}class ${constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,e=null){var o;this.e||(this.is_svg?this.e=(o=n.nodeName,document.createElementNS("http://www.w3.org/2000/svg",o)):this.e=a(11===n.nodeType?"TEMPLATE":n.nodeName),this.t="TEMPLATE"!==n.tagName?n:n.content,this.c(t)),this.i(e)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)c(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(u)}}let v;function y(t){v=t}const b=[],E=[];let _=[];const x=[],w=Promise.resolve();let T=!1;function N(t){_.push(t)}const k=new Set;let A=0;function L(){if(0!==A)return;const t=v;do{try{for(;A<b.length;){const t=b[A];A++,y(t),z(t.$$)}}catch(t){throw b.length=0,A=0,t}for(y(null),b.length=0,A=0;E.length;)E.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];k.has(n)||(k.add(n),n())}_.length=0}while(b.length);for(;x.length;)x.pop()();T=!1,k.clear(),y(t)}function z(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(N)}}const M=new Set;const j="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function C(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];_.forEach((o=>-1===t.indexOf(o)?n.push(o):e.push(o))),e.forEach((t=>t())),_=n}(e.after_update),o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function O(t,n){-1===t.$$.dirty[0]&&(b.push(t),T||(T=!0,w.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function P(i,l,c,s,a,f,h,d=[-1]){const p=v;y(i);const m=i.$$={fragment:null,ctx:[],props:f,update:t,not_equal:a,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(p?p.$$.context:[])),callbacks:e(),dirty:d,skip_bound:!1,root:l.target||p.$$.root};h&&h(m.root);let g=!1;if(m.ctx=c?c(i,l.props||{},((t,n,...e)=>{const o=e.length?e[0]:n;return m.ctx&&a(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),g&&O(i,t)),n})):[],m.update(),g=!0,o(m.before_update),m.fragment=!!s&&s(m.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);m.fragment&&m.fragment.l(t),t.forEach(u)}else m.fragment&&m.fragment.c();l.intro&&(($=i.$$.fragment)&&$.i&&(M.delete($),$.i(b))),function(t,e,i,l){const{fragment:c,after_update:u}=t.$$;c&&c.m(e,i),l||N((()=>{const e=t.$$.on_mount.map(n).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(N)}(i,l.target,l.anchor,l.customElement),L()}var $,b;y(p)}class S{$destroy(){C(this,1),this.$destroy=t}$on(n,e){if(!r(e))return t;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const{window:B}=j;function H(t,n,e){const o=t.slice();return o[12]=n[e],o}function Y(t,n,e){const o=t.slice();return o[12]=n[e],o}function I(t){let n,e,o,r=t[3]&&q(t);return{c(){n=a("p"),e=f(t[2]),o=h(),r&&r.c(),p(n,"class","svelte-u81mz1")},m(t,i){c(t,n,i),l(n,e),l(n,o),r&&r.m(n,null)},p(t,o){4&o&&m(e,t[2]),t[3]?r?r.p(t,o):(r=q(t),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},d(t){t&&u(n),r&&r.d()}}}function q(t){let n,e;return{c(){n=a("span"),e=f(t[3])},m(t,o){c(t,n,o),l(n,e)},p(t,n){8&n&&m(e,t[3])},d(t){t&&u(n)}}}function D(t){let n;return{c(){n=f("You can go")},m(t,e){c(t,n,e)},d(t){t&&u(n)}}}function J(t){let n,e,o,r,i,s=t[12]+"";function h(){return t[10](t[12])}return{c(){n=a("button"),e=f(s),o=a("span"),o.textContent="Â ",p(n,"class","svelte-u81mz1")},m(t,u){c(t,n,u),l(n,e),c(t,o,u),r||(i=d(n,"click",h),r=!0)},p(n,o){t=n,16&o&&s!==(s=t[12]+"")&&m(e,s)},d(t){t&&u(n),t&&u(o),r=!1,i()}}}function U(t){let n,e,o,r=t[12]+"";return{c(){n=a("p"),e=new $(!1),o=h(),e.a=o,p(n,"class","svelte-u81mz1")},m(t,i){c(t,n,i),e.m(r,n),l(n,o)},p(t,n){64&n&&r!==(r=t[12]+"")&&e.p(r)},d(t){t&&u(n)}}}function F(n){let e,r,i,$,v,y,b,E,_,x,w,T,N,k,A,L,z,M,j=n[2]&&I(n),C=n[4].length>0&&D(),O=n[4],P=[];for(let t=0;t<O.length;t+=1)P[t]=J(Y(n,O,t));let S=n[6],q=[];for(let t=0;t<S.length;t+=1)q[t]=U(H(n,S,t));return{c(){e=a("main"),r=a("h1"),i=f(n[0]),$=h(),v=a("p"),y=h(),j&&j.c(),b=h(),E=a("p"),C&&C.c(),_=h();for(let t=0;t<P.length;t+=1)P[t].c();x=h(),w=a("br"),T=h(),N=a("div");for(let t=0;t<q.length;t+=1)q[t].c();k=h(),A=a("form"),L=a("input"),p(r,"class","svelte-u81mz1"),p(v,"class","svelte-u81mz1"),p(E,"class","svelte-u81mz1"),p(L,"type","text"),p(e,"class","svelte-u81mz1")},m(t,o){c(t,e,o),l(e,r),l(r,i),l(e,$),l(e,v),v.innerHTML=n[1],l(e,y),j&&j.m(e,null),l(e,b),l(e,E),C&&C.m(E,null),l(E,_);for(let t=0;t<P.length;t+=1)P[t]&&P[t].m(E,null);l(e,x),l(e,w),l(e,T),l(e,N);for(let t=0;t<q.length;t+=1)q[t]&&q[t].m(N,null);var u;l(e,k),l(e,A),l(A,L),g(L,n[5]),z||(M=[d(B,"load",n[7]),d(L,"input",n[11]),d(A,"submit",(u=n[9],function(t){return t.preventDefault(),u.call(this,t)}))],z=!0)},p(t,[n]){if(1&n&&m(i,t[0]),2&n&&(v.innerHTML=t[1]),t[2]?j?j.p(t,n):(j=I(t),j.c(),j.m(e,b)):j&&(j.d(1),j=null),t[4].length>0?C||(C=D(),C.c(),C.m(E,_)):C&&(C.d(1),C=null),272&n){let e;for(O=t[4],e=0;e<O.length;e+=1){const o=Y(t,O,e);P[e]?P[e].p(o,n):(P[e]=J(o),P[e].c(),P[e].m(E,null))}for(;e<P.length;e+=1)P[e].d(1);P.length=O.length}if(64&n){let e;for(S=t[6],e=0;e<S.length;e+=1){const o=H(t,S,e);q[e]?q[e].p(o,n):(q[e]=U(o),q[e].c(),q[e].m(N,null))}for(;e<q.length;e+=1)q[e].d(1);q.length=S.length}32&n&&L.value!==t[5]&&g(L,t[5])},i:t,o:t,d(t){t&&u(e),j&&j.d(),C&&C.d(),s(P,t),s(q,t),z=!1,o(M)}}}function G(t){return t.charAt(0).toUpperCase()+t.slice(1)}function K(t,n,e){let o,r,i,l=[],c=[],u=[],s=[];function a(t){Evennia.msg("text",[t]),e(6,s=[])}return[o,r,l,c,u,i,s,function(){Evennia.init(),window.Evennia.emitter.on("room_data",(function(t,n){e(0,o=n.name),e(1,r=n.desc),e(2,l=function(t){let n=t.map((t=>`a ${t}`));if(1===n.length)return`You see ${n[0]}.`;if(n.length>1){let t=n.pop();return`You see ${n.join(", ")}, and ${t}.`}return null}(n.contents)),e(3,c=function(t){if(1===t.length)return G(`${t[0]} is here.`);if(2===t.length)return G(`${t[0]} and ${t[1]} are here.`);if(t.length>2){let n=t.pop();return G(`${t.join(", ")}, and ${n} are here.`)}}(n.characters)),e(4,u=n.exits)})),window.Evennia.emitter.on("text",(function(t,n){"look"!==n.type&&e(6,s=[...s,t[0]])}))},a,function(t){console.log(i),Evennia.msg("text",[i]),e(5,i="")},t=>a(t),function(){i=this.value,e(5,i)}]}return new class extends S{constructor(t){super(),P(this,t,K,F,i,{})}}({target:document.getElementById("app-target"),props:JSON.parse(document.getElementById("app-props").textContent)})}();
//# sourceMappingURL=App.js.map
