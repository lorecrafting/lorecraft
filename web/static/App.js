var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(t,n){t.appendChild(n)}function i(t,n,e){t.insertBefore(n,e||null)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function u(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function d(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function p(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function m(t,n){t.value=null==n?"":n}class ${constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,e=null){var o;this.e||(this.is_svg?this.e=(o=n.nodeName,document.createElementNS("http://www.w3.org/2000/svg",o)):this.e=a(11===n.nodeType?"TEMPLATE":n.nodeName),this.t="TEMPLATE"!==n.tagName?n:n.content,this.c(t)),this.i(e)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)i(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(c)}}let v;function w(t){v=t}function y(t){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.after_update.push(t)}const E=[],_=[];let b=[];const x=[],k=Promise.resolve();let T=!1;function N(t){b.push(t)}const A=new Set;let L=0;function M(){if(0!==L)return;const t=v;do{try{for(;L<E.length;){const t=E[L];L++,w(t),j(t.$$)}}catch(t){throw E.length=0,L=0,t}for(w(null),E.length=0,L=0;_.length;)_.pop()();for(let t=0;t<b.length;t+=1){const n=b[t];A.has(n)||(A.add(n),n())}b.length=0}while(E.length);for(;x.length;)x.pop()();T=!1,A.clear(),w(t)}function j(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(N)}}const C=new Set;const O="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function H(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];b.forEach((o=>-1===t.indexOf(o)?n.push(o):e.push(o))),e.forEach((t=>t())),b=n}(e.after_update),o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function P(t,n){-1===t.$$.dirty[0]&&(E.push(t),T||(T=!0,k.then(M)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function S(l,s,i,u,a,f,h,d=[-1]){const p=v;w(l);const g=l.$$={fragment:null,ctx:[],props:f,update:t,not_equal:a,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(p?p.$$.context:[])),callbacks:e(),dirty:d,skip_bound:!1,root:s.target||p.$$.root};h&&h(g.root);let m=!1;if(g.ctx=i?i(l,s.props||{},((t,n,...e)=>{const o=e.length?e[0]:n;return g.ctx&&a(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),m&&P(l,t)),n})):[],g.update(),m=!0,o(g.before_update),g.fragment=!!u&&u(g.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);g.fragment&&g.fragment.l(t),t.forEach(c)}else g.fragment&&g.fragment.c();s.intro&&(($=l.$$.fragment)&&$.i&&(C.delete($),$.i(y))),function(t,e,l,s){const{fragment:i,after_update:c}=t.$$;i&&i.m(e,l),s||N((()=>{const e=t.$$.on_mount.map(n).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),c.forEach(N)}(l,s.target,s.anchor,s.customElement),M()}var $,y;w(p)}class B{$destroy(){H(this,1),this.$destroy=t}$on(n,e){if(!r(e))return t;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const{window:Y}=O;function I(t,n,e){const o=t.slice();return o[15]=n[e],o}function q(t,n,e){const o=t.slice();return o[15]=n[e],o}function z(t){let n,e,o,r=t[3]&&D(t);return{c(){n=a("p"),e=f(t[2]),o=h(),r&&r.c(),p(n,"class","svelte-15lwsvk")},m(t,l){i(t,n,l),s(n,e),s(n,o),r&&r.m(n,null)},p(t,o){4&o&&g(e,t[2]),t[3]?r?r.p(t,o):(r=D(t),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},d(t){t&&c(n),r&&r.d()}}}function D(t){let n,e;return{c(){n=a("span"),e=f(t[3])},m(t,o){i(t,n,o),s(n,e)},p(t,n){8&n&&g(e,t[3])},d(t){t&&c(n)}}}function F(t){let n;return{c(){n=f("You can go")},m(t,e){i(t,n,e)},d(t){t&&c(n)}}}function J(t){let n,e,o,r,l,u=t[15]+"";function h(){return t[12](t[15])}return{c(){n=a("button"),e=f(u),o=a("span"),o.textContent="Â ",p(n,"class","svelte-15lwsvk")},m(t,c){i(t,n,c),s(n,e),i(t,o,c),r||(l=d(n,"click",h),r=!0)},p(n,o){t=n,16&o&&u!==(u=t[15]+"")&&g(e,u)},d(t){t&&c(n),t&&c(o),r=!1,l()}}}function U(t){let n,e,o,r=t[15]+"";return{c(){n=a("p"),e=new $(!1),o=h(),e.a=o,p(n,"class","svelte-15lwsvk")},m(t,l){i(t,n,l),e.m(r,n),s(n,o)},p(t,n){64&n&&r!==(r=t[15]+"")&&e.p(r)},d(t){t&&c(n)}}}function G(n){let e,r,l,$,v,w,y,E,_,b,x,k,T,N,A,L,M,j=n[2]&&z(n),C=n[4].length>0&&F(),O=n[4],H=[];for(let t=0;t<O.length;t+=1)H[t]=J(q(n,O,t));let P=n[6],S=[];for(let t=0;t<P.length;t+=1)S[t]=U(I(n,P,t));return{c(){e=a("main"),r=a("section"),l=a("h1"),$=f(n[0]),v=h(),w=a("p"),y=h(),j&&j.c(),E=h(),_=a("p"),C&&C.c(),b=h();for(let t=0;t<H.length;t+=1)H[t].c();x=h(),k=a("section");for(let t=0;t<S.length;t+=1)S[t].c();T=h(),N=a("form"),A=a("input"),p(l,"class","svelte-15lwsvk"),p(w,"class","svelte-15lwsvk"),p(_,"class","svelte-15lwsvk"),p(r,"class","room-info svelte-15lwsvk"),p(k,"class","echo-log svelte-15lwsvk"),p(A,"type","text"),p(A,"class","svelte-15lwsvk"),p(N,"class","msg-to-evennia svelte-15lwsvk"),p(e,"class","svelte-15lwsvk")},m(t,o){i(t,e,o),s(e,r),s(r,l),s(l,$),s(r,v),s(r,w),w.innerHTML=n[1],s(r,y),j&&j.m(r,null),s(r,E),s(r,_),C&&C.m(_,null),s(_,b);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(_,null);s(e,x),s(e,k);for(let t=0;t<S.length;t+=1)S[t]&&S[t].m(k,null);var c;n[13](k),s(e,T),s(e,N),s(N,A),m(A,n[5]),L||(M=[d(Y,"load",n[8]),d(l,"click",n[10]),d(A,"input",n[14]),d(N,"submit",(c=n[11],function(t){return t.preventDefault(),c.call(this,t)}))],L=!0)},p(t,[n]){if(1&n&&g($,t[0]),2&n&&(w.innerHTML=t[1]),t[2]?j?j.p(t,n):(j=z(t),j.c(),j.m(r,E)):j&&(j.d(1),j=null),t[4].length>0?C||(C=F(),C.c(),C.m(_,b)):C&&(C.d(1),C=null),528&n){let e;for(O=t[4],e=0;e<O.length;e+=1){const o=q(t,O,e);H[e]?H[e].p(o,n):(H[e]=J(o),H[e].c(),H[e].m(_,null))}for(;e<H.length;e+=1)H[e].d(1);H.length=O.length}if(64&n){let e;for(P=t[6],e=0;e<P.length;e+=1){const o=I(t,P,e);S[e]?S[e].p(o,n):(S[e]=U(o),S[e].c(),S[e].m(k,null))}for(;e<S.length;e+=1)S[e].d(1);S.length=P.length}32&n&&A.value!==t[5]&&m(A,t[5])},i:t,o:t,d(t){t&&c(e),j&&j.d(),C&&C.d(),u(H,t),u(S,t),n[13](null),L=!1,o(M)}}}function K(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Q(t,n,e){let o,r,l,s,i=[],c=[],u=[],a=[];function f(t){Evennia.msg("text",[t]),e(6,a=[])}y((()=>{s.scrollTo(0,s.scrollHeight)}));return[o,r,i,c,u,l,a,s,function(){Evennia.init(),window.Evennia.emitter.on("room_data",(function(t,n){e(0,o=n.name),e(1,r=n.desc),e(2,i=function(t){let n=t.map((t=>`a ${t}`));if(1===n.length)return`You see ${n[0]}.`;if(n.length>1){let t=n.pop();return`You see ${n.join(", ")}, and ${t}.`}return null}(n.contents)),e(3,c=function(t){if(1===t.length)return K(`${t[0]} is here.`);if(2===t.length)return K(`${t[0]} and ${t[1]} are here.`);if(t.length>2){let n=t.pop();return K(`${t.join(", ")}, and ${n} are here.`)}}(n.characters)),e(4,u=n.exits)})),window.Evennia.emitter.on("text",(function(t,n){"look"!==n.type&&e(6,a=[...a,t[0]])}))},f,function(){Evennia.msg("text",["look"]),e(6,a=[])},function(t){Evennia.msg("text",[l]),e(5,l="")},t=>f(t),function(t){_[t?"unshift":"push"]((()=>{s=t,e(7,s)}))},function(){l=this.value,e(5,l)}]}return new class extends B{constructor(t){super(),S(this,t,Q,G,l,{})}}({target:document.getElementById("app-target"),props:JSON.parse(document.getElementById("app-props").textContent)})}();
//# sourceMappingURL=App.js.map
