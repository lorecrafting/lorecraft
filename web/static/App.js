var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function l(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function s(t){t.parentNode&&t.parentNode.removeChild(t)}function u(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function d(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function p(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function m(t,n){t.value=null==n?"":n}class ${constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,e=null){var o;this.e||(this.is_svg?this.e=(o=n.nodeName,document.createElementNS("http://www.w3.org/2000/svg",o)):this.e=a(11===n.nodeType?"TEMPLATE":n.nodeName),this.t="TEMPLATE"!==n.tagName?n:n.content,this.c(t)),this.i(e)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)c(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(s)}}let v;function y(t){v=t}function E(t){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.after_update.push(t)}const _=[],w=[];let b=[];const x=[],T=Promise.resolve();let k=!1;function q(t){b.push(t)}const N=new Set;let A=0;function L(){if(0!==A)return;const t=v;do{try{for(;A<_.length;){const t=_[A];A++,y(t),M(t.$$)}}catch(t){throw _.length=0,A=0,t}for(y(null),_.length=0,A=0;w.length;)w.pop()();for(let t=0;t<b.length;t+=1){const n=b[t];N.has(n)||(N.add(n),n())}b.length=0}while(_.length);for(;x.length;)x.pop()();k=!1,N.clear(),y(t)}function M(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(q)}}const j=new Set;const C="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function O(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];b.forEach((o=>-1===t.indexOf(o)?n.push(o):e.push(o))),e.forEach((t=>t())),b=n}(e.after_update),o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function H(t,n){-1===t.$$.dirty[0]&&(_.push(t),k||(k=!0,T.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function P(i,l,c,u,a,f,h,d=[-1]){const p=v;y(i);const g=i.$$={fragment:null,ctx:[],props:f,update:t,not_equal:a,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(p?p.$$.context:[])),callbacks:e(),dirty:d,skip_bound:!1,root:l.target||p.$$.root};h&&h(g.root);let m=!1;if(g.ctx=c?c(i,l.props||{},((t,n,...e)=>{const o=e.length?e[0]:n;return g.ctx&&a(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),m&&H(i,t)),n})):[],g.update(),m=!0,o(g.before_update),g.fragment=!!u&&u(g.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);g.fragment&&g.fragment.l(t),t.forEach(s)}else g.fragment&&g.fragment.c();l.intro&&(($=i.$$.fragment)&&$.i&&(j.delete($),$.i(E))),function(t,e,i,l){const{fragment:c,after_update:s}=t.$$;c&&c.m(e,i),l||q((()=>{const e=t.$$.on_mount.map(n).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),s.forEach(q)}(i,l.target,l.anchor,l.customElement),L()}var $,E;y(p)}class S{$destroy(){O(this,1),this.$destroy=t}$on(n,e){if(!r(e))return t;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const{window:B}=C;function Y(t,n,e){const o=t.slice();return o[15]=n[e],o}function I(t,n,e){const o=t.slice();return o[15]=n[e],o}function z(t){let n,e,o,r=t[3]&&D(t);return{c(){n=a("p"),e=f(t[2]),o=h(),r&&r.c(),p(n,"class","svelte-14ipq02")},m(t,i){c(t,n,i),l(n,e),l(n,o),r&&r.m(n,null)},p(t,o){4&o&&g(e,t[2]),t[3]?r?r.p(t,o):(r=D(t),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},d(t){t&&s(n),r&&r.d()}}}function D(t){let n,e;return{c(){n=a("span"),e=f(t[3])},m(t,o){c(t,n,o),l(n,e)},p(t,n){8&n&&g(e,t[3])},d(t){t&&s(n)}}}function F(t){let n;return{c(){n=f("You can go")},m(t,e){c(t,n,e)},d(t){t&&s(n)}}}function J(t){let n,e,o,r,i,u=t[15]+"";function h(){return t[12](t[15])}return{c(){n=a("button"),e=f(u),o=a("span"),o.textContent="Â ",p(n,"class","svelte-14ipq02")},m(t,s){c(t,n,s),l(n,e),c(t,o,s),r||(i=d(n,"click",h),r=!0)},p(n,o){t=n,16&o&&u!==(u=t[15]+"")&&g(e,u)},d(t){t&&s(n),t&&s(o),r=!1,i()}}}function U(t){let n,e,o,r=t[15]+"";return{c(){n=a("p"),e=new $(!1),o=h(),e.a=o,p(n,"class","svelte-14ipq02")},m(t,i){c(t,n,i),e.m(r,n),l(n,o)},p(t,n){64&n&&r!==(r=t[15]+"")&&e.p(r)},d(t){t&&s(n)}}}function G(n){let e,r,i,$,v,y,E,_,w,b,x,T,k,q,N,A,L,M=n[2]&&z(n),j=n[4].length>0&&F(),C=n[4],O=[];for(let t=0;t<C.length;t+=1)O[t]=J(I(n,C,t));let H=n[6],P=[];for(let t=0;t<H.length;t+=1)P[t]=U(Y(n,H,t));return{c(){e=a("main"),r=a("section"),i=a("h1"),$=f(n[0]),v=h(),y=a("p"),E=h(),M&&M.c(),_=h(),w=a("p"),j&&j.c(),b=h();for(let t=0;t<O.length;t+=1)O[t].c();x=h(),T=a("section");for(let t=0;t<P.length;t+=1)P[t].c();k=h(),q=a("form"),N=a("input"),p(i,"class","svelte-14ipq02"),p(y,"class","svelte-14ipq02"),p(w,"class","svelte-14ipq02"),p(r,"class","room-info svelte-14ipq02"),p(T,"class","echo-log svelte-14ipq02"),p(N,"type","text"),p(N,"class","svelte-14ipq02"),p(q,"class","msg-to-evennia svelte-14ipq02"),p(e,"class","svelte-14ipq02")},m(t,o){c(t,e,o),l(e,r),l(r,i),l(i,$),l(r,v),l(r,y),y.innerHTML=n[1],l(r,E),M&&M.m(r,null),l(r,_),l(r,w),j&&j.m(w,null),l(w,b);for(let t=0;t<O.length;t+=1)O[t]&&O[t].m(w,null);l(e,x),l(e,T);for(let t=0;t<P.length;t+=1)P[t]&&P[t].m(T,null);var s;n[13](T),l(e,k),l(e,q),l(q,N),m(N,n[5]),A||(L=[d(B,"load",n[8]),d(i,"click",n[10]),d(N,"input",n[14]),d(q,"submit",(s=n[11],function(t){return t.preventDefault(),s.call(this,t)}))],A=!0)},p(t,[n]){if(1&n&&g($,t[0]),2&n&&(y.innerHTML=t[1]),t[2]?M?M.p(t,n):(M=z(t),M.c(),M.m(r,_)):M&&(M.d(1),M=null),t[4].length>0?j||(j=F(),j.c(),j.m(w,b)):j&&(j.d(1),j=null),528&n){let e;for(C=t[4],e=0;e<C.length;e+=1){const o=I(t,C,e);O[e]?O[e].p(o,n):(O[e]=J(o),O[e].c(),O[e].m(w,null))}for(;e<O.length;e+=1)O[e].d(1);O.length=C.length}if(64&n){let e;for(H=t[6],e=0;e<H.length;e+=1){const o=Y(t,H,e);P[e]?P[e].p(o,n):(P[e]=U(o),P[e].c(),P[e].m(T,null))}for(;e<P.length;e+=1)P[e].d(1);P.length=H.length}32&n&&N.value!==t[5]&&m(N,t[5])},i:t,o:t,d(t){t&&s(e),M&&M.d(),j&&j.d(),u(O,t),u(P,t),n[13](null),A=!1,o(L)}}}function K(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Q(t,n,e){let o,r,i,l,c=[],s=[],u=[],a=[];function f(t){Evennia.msg("text",[t]),e(6,a=[])}E((()=>{l.scrollTo(0,l.scrollHeight)}));return[o,r,c,s,u,i,a,l,function(){Evennia.init(),window.Evennia.emitter.on("room_data",(function(t,n){e(0,o=n.name),e(1,r=n.desc),e(2,c=function(t){let n=t.map((t=>`a ${t}`));if(1===n.length)return`You see ${n[0]}.`;if(n.length>1){let t=n.pop();return`You see ${n.join(", ")}, and ${t}.`}return null}(n.contents)),e(3,s=function(t){if(1===t.length)return K(`${t[0]} is here.`);if(2===t.length)return K(`${t[0]} and ${t[1]} are here.`);if(t.length>2){let n=t.pop();return K(`${t.join(", ")}, and ${n} are here.`)}}(n.characters)),e(4,u=n.exits.filter((t=>"north"===t||"south"===t||"east"===t||"west"===t)))})),window.Evennia.emitter.on("text",(function(t,n){"look"!==n.type&&e(6,a=[...a,t[0]])}))},f,function(){Evennia.msg("text",["look"]),e(6,a=[])},function(t){Evennia.msg("text",[i]),e(5,i="")},t=>f(t),function(t){w[t?"unshift":"push"]((()=>{l=t,e(7,l)}))},function(){i=this.value,e(5,i)}]}return new class extends S{constructor(t){super(),P(this,t,Q,G,i,{})}}({target:document.getElementById("app-target"),props:JSON.parse(document.getElementById("app-props").textContent)})}();
//# sourceMappingURL=App.js.map
